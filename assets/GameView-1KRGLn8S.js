import{d as B,h as S,g as V,x as z,y as U,c as i,a as e,F as R,z as w,u as v,o as r,A as D,t as d,B as G,b as F,C as P,D as Y,e as q}from"./vendor-DmRBNYNi.js";import{u as I,D as k}from"./game-CEA1XnS2.js";import{_ as L}from"./index-DvxNGDbX.js";const K={class:"sudoku-game"},O={class:"game-board"},J=["onClick"],Q={class:"available-digits"},W={class:"number-pad"},X=["onClick"],Z={},x=B({...Z,name:"SudokuGame",__name:"SudokuGame",setup(j,{expose:f}){const l=I(),N=S(new Set);f({hintCells:N,handleHintClick:y,isErrorCell:M}),V(()=>{if(l.isPaused||l.isComplete)return"00:00";const t=Math.floor((Date.now()-l.startTime)/1e3),n=Math.floor(t/60),o=t%60;return`${n.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`});let m;z(()=>{l.loadRecords(),l.startNewGame(k.BEGINNER),m=window.setInterval(()=>{!l.isPaused&&l.isComplete},1e3)}),U(()=>{clearInterval(m)});function E(t,n){l.setSelectedCell(t,n)}function _(t){if(l.selectedCell){const[n,o]=l.selectedCell;l.updateCell(n,o,t)}}function y(){const t=l.getHint();return t?(l.setSelectedCell(t.row,t.col),N.value.add(`${t.row}-${t.col}`),l.updateCell(t.row,t.col,t.value),!0):!1}function g(t,n){if(!l.selectedCell)return!1;const[o,c]=l.selectedCell;return t===o||n===c||Math.floor(t/3)===Math.floor(o/3)&&Math.floor(n/3)===Math.floor(c/3)}function M(t,n){const o=l.grid[t][n];if(!o.value)return!1;for(let a=0;a<9;a++)if(a!==n&&l.grid[t][a].value===o.value)return!0;for(let a=0;a<9;a++)if(a!==t&&l.grid[a][n].value===o.value)return!0;const c=Math.floor(t/3)*3,$=Math.floor(n/3)*3;for(let a=c;a<c+3;a++)for(let p=$;p<$+3;p++)if(a!==t&&p!==n&&l.grid[a][p].value===o.value)return!0;return!1}function A(t,n){return N.value.has(`${t}-${n}`)}return(t,n)=>(r(),i("div",K,[e("div",O,[(r(!0),i(R,null,w(v(l).grid,(o,c)=>(r(),i("div",{key:c,class:"board-row"},[(r(!0),i(R,null,w(o,($,a)=>{var p,b;return r(),i("div",{key:a,class:D(["board-cell",{"cell-initial":!$.isEditable,"cell-selected":((p=v(l).selectedCell)==null?void 0:p[0])===c&&((b=v(l).selectedCell)==null?void 0:b[1])===a,"cell-highlighted":g(c,a),"cell-error":M(c,a),"cell-hint":A(c,a)}]),onClick:H=>E(c,a)},d($.value||""),11,J)}),128))]))),128))]),e("div",Q,[n[0]||(n[0]=e("div",{class:"digits-label"},"Available Digits:",-1)),e("div",W,[(r(),i(R,null,w(9,o=>e("button",{key:o,class:D(["number-button",{"button-disabled":!v(l).availableNumbers[o]}]),onClick:c=>_(o)},d(o),11,X)),64))])])]))}}),ee=L(x,[["__scopeId","data-v-e7914f42"]]),te={class:"game"},le={class:"game-container"},se={class:"game-info"},ae={class:"info-item"},ne={class:"info-item"},oe={class:"info-item"},ie={class:"info-item"},re=["disabled"],ue={class:"game-content"},ce={class:"game-board-container"},de={class:"game-actions"},ve=["disabled"],fe={class:"leaderboard"},me={class:"difficulty-section"},he={key:0,class:"no-records"},_e={class:"difficulty-section"},Ce={key:0,class:"no-records"},ge={class:"difficulty-section"},pe={key:0,class:"no-records"},be={class:"difficulty-selector"},ke=["value"],ye=B({__name:"GameView",setup(j){const f=I(),l=S(k.BEGINNER),N=S(0),m=S(!1),E=S(""),_=S("alert-success"),y=S(null),g=S(null),M=Object.values(k),A=V(()=>f.selectedCell!==null),t=()=>{f.startNewGame(l.value),N.value=0,m.value=!1,n(),g.value&&g.value.hintCells.clear()},n=()=>{y.value&&clearInterval(y.value),y.value=window.setInterval(()=>{N.value++},1e3)},o=()=>{y.value&&(clearInterval(y.value),y.value=null)},c=h=>{const u=Math.floor(h/60),s=h%60;return`${u.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},$=()=>{f.hintsRemaining<=0||g.value&&g.value.handleHintClick&&(g.value.handleHintClick(),m.value=!0,E.value="Hint applied! -50 points",_.value="alert-warning",setTimeout(()=>{_.value==="alert-warning"&&(m.value=!1)},3e3))},a=()=>{f.clearSelectedCell()},p=()=>{var s;let h=!1;for(let C=0;C<9;C++){for(let T=0;T<9;T++)if(f.grid[C][T].value&&((s=g.value)!=null&&s.isErrorCell(C,T))){h=!0;break}if(h)break}if(h){m.value=!0,E.value="There are errors in your solution. Red cells contain mistakes.",_.value="alert-danger";return}f.checkSolution()?(o(),m.value=!0,E.value="Congratulations! You solved the puzzle correctly!",_.value="alert-success"):(m.value=!0,E.value="The puzzle is not complete yet. Keep going!",_.value="alert-warning",setTimeout(()=>{_.value==="alert-warning"&&(m.value=!1)},3e3))},b=h=>f.records.filter(u=>u.difficulty===h).sort((u,s)=>s.score-u.score).slice(0,3),H=h=>h.charAt(0).toUpperCase()+h.slice(1).toLowerCase();return z(()=>{t()}),U(()=>{o()}),(h,u)=>(r(),i("div",te,[e("div",le,[e("div",se,[e("div",ae,[e("span",null,"Level: "+d(H(l.value)),1)]),e("div",ne,[e("span",null,"Score: "+d(v(f).score),1)]),e("div",oe,[e("span",null,"Time Spent: "+d(c(N.value)),1)]),e("div",ie,[e("button",{class:"hint-button",disabled:v(f).hintsRemaining<=0,onClick:$}," → Hint ("+d(v(f).hintsRemaining)+") ",9,re)])]),e("div",ue,[e("div",ce,[F(ee,{ref_key:"sudokuGameRef",ref:g},null,512),e("div",de,[e("button",{class:"action-button",onClick:t},"New Game"),e("button",{class:"action-button clear-button",onClick:a,disabled:!A.value}," Clear Cell ",8,ve),e("button",{class:"action-button check-button",onClick:p}," Check Solution ")])]),e("div",fe,[u[5]||(u[5]=e("div",{class:"leaderboard-header"},[e("h3",null,"Leaderboard")],-1)),e("div",me,[u[2]||(u[2]=e("h4",null,"EASY:",-1)),e("ol",null,[(r(!0),i(R,null,w(b(v(k).BEGINNER),(s,C)=>(r(),i("li",{key:`easy-${C}`,class:D({"current-user":s.isCurrentUser})},d(s.score)+" - "+d(s.name||"Anonymous"),3))),128)),b(v(k).BEGINNER).length===0?(r(),i("li",he," No records yet ")):G("",!0)])]),e("div",_e,[u[3]||(u[3]=e("h4",null,"MEDIUM:",-1)),e("ol",null,[(r(!0),i(R,null,w(b(v(k).INTERMEDIATE),(s,C)=>(r(),i("li",{key:`medium-${C}`,class:D({"current-user":s.isCurrentUser})},d(s.score)+" - "+d(s.name||"Anonymous"),3))),128)),b(v(k).INTERMEDIATE).length===0?(r(),i("li",Ce," No records yet ")):G("",!0)])]),e("div",ge,[u[4]||(u[4]=e("h4",null,"HARD:",-1)),e("ol",null,[(r(!0),i(R,null,w(b(v(k).ADVANCED),(s,C)=>(r(),i("li",{key:`hard-${C}`,class:D({"current-user":s.isCurrentUser})},d(s.score)+" - "+d(s.name||"Anonymous"),3))),128)),b(v(k).ADVANCED).length===0?(r(),i("li",pe," No records yet ")):G("",!0)])])])]),e("div",be,[P(e("select",{"onUpdate:modelValue":u[0]||(u[0]=s=>l.value=s),class:"difficulty-select",onChange:t},[(r(!0),i(R,null,w(v(M),s=>(r(),i("option",{key:s,value:s},d(H(s)),9,ke))),128))],544),[[Y,l.value]])])]),m.value?(r(),i("div",{key:0,class:D(["alert",_.value])},[q(d(E.value)+" ",1),_.value==="alert-danger"?(r(),i("button",{key:0,class:"close-button",onClick:u[1]||(u[1]=s=>m.value=!1)}," × ")):G("",!0)],2)):G("",!0)]))}}),$e=L(ye,[["__scopeId","data-v-d76dd93f"]]);export{$e as default};
//# sourceMappingURL=GameView-1KRGLn8S.js.map
